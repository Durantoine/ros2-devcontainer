{
  "name": "ROS2 Multi-Workspace Development",
  "image": "local/ros2-m3:latest",
  "workspaceFolder": "/workspaces",
  "workspaceMount": "source=${localWorkspaceFolder}/workspaces,target=/workspaces,type=bind",
  "runArgs": ["--name=ros2_dev", "-e", "ROS_DOMAIN_ID=0"],
  "forwardPorts": [8765, 8000],

  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "ms-python.vscode-pylance",
        "ms-python.black-formatter",
        "ms-vscode.cpptools",
        "ms-vscode.cmake-tools",
        "twxs.cmake",
        "dotjoshjohnson.xml",
        "redhat.vscode-yaml",
        "streetsidesoftware.code-spell-checker"
      ],
      "settings": {
        "python.defaultInterpreterPath": "/usr/bin/python3",
        "python.linting.enabled": true,
        "python.linting.pylintEnabled": false,
        "python.linting.flake8Enabled": true,
        "python.formatting.provider": "black",
        "editor.formatOnSave": true,
        "files.associations": {
          "*.launch": "xml",
          "*.urdf": "xml",
          "*.xacro": "xml",
          "*.sdf": "xml"
        },
        "terminal.integrated.defaultProfile.linux": "bash",
        "terminal.integrated.profiles.linux": {
          "bash": {
            "path": "/bin/bash",
            "args": ["-l"]
          }
        }
      }
    }
  },

  "postCreateCommand": "echo 'ðŸš€ ROS2 Dev Container Ready with OrbStack!' && echo 'ðŸ“¦ Workspaces: /workspaces/' && echo 'ðŸŽ® Launch Gazebo: ros2 launch turtlebot3_gazebo empty_world.launch.py'",

  "remoteUser": "root"
}